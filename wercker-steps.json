{
  "platformSteps" : [
    {"name" : "platform", "type" : "commands-step", "blocking" : true,
      "options" : {
        "commands" : [
          "mkdir $HOME/mygo",
          "mkdir ~/go_project/",
          "cp -R * ~/go_project/",
          "export GOPATH=$HOME/mygo",
          "export PATH=$PATH:$GOPATH/bin",
          "mkdir $GOPATH/bin",
          "mkdir $GOPATH/src",
          "[ -z \"$GIT_SSH_DOMAIN\" ] && mkdir -p $GOPATH/src/$GIT_SSH_DOMAIN/$GIT_SSH_OWNER/$GIT_SSH_PROJECT",
          "[ -z \"$GIT_SSH_DOMAIN\" ] && cp -R ~/go_project/* $GOPATH/src/$GIT_SSH_DOMAIN/$GIT_SSH_OWNER/$GIT_SSH_PROJECT/",
          "mkdir $GOPATH/pkg",
         "sudo chown ubuntu -R /build",
          "cd $WERCKER_ROOT"
        ]}}],
  "dependencySteps" : [
    {"name" : "get", "type" : "commands-step", "blocking" : false,
      "options" : {
        "commands" : [
          "cd $WERCKER_ROOT",
          "go version",
          "go get ./..."
        ]}}
  ],
  "testSteps" : [
    {"name" : "build", "type" : "commands-step", "blocking" : false,
      "options" : {
        "commands" : [
          "cd $WERCKER_ROOT",
          "go build ./..."
        ]}},
    {"name" : "test", "type" : "commands-step", "blocking" : false,
      "options" : {
        "commands" : [
          "cd $WERCKER_ROOT",
          "go test ./..."
        ]}}
  ]
}
